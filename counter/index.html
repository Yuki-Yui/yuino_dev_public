<!DOCTYPE html>
<html lang="ja">

<head>
<!-- head_from -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="icon" href="/images/favicons/favicon_yui.ico" id="favicon">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/favicons/apple-touch-icon-180x180.png">
    <link rel="shortcut icon" type="image/png" sizes="512x512" href="/images/favicons/android-chrome-512x512.png">
    <link rel="manifest" href="/images/favicons/manifest.json">
    <link rel="stylesheet" href="/style.css?3.14">
    <script src="/script.js?3.7" defer></script>
    <script src="/scripts/Omikuji.js" defer></script>
<!-- head_to -->
    <title>カウンター - ゆいのページ</title>
    <meta name="description" content="アクセスカウンターです。">
    <!-- OGP -->
    <meta property="og:title" content="カウンター - ゆいのページ" />
    <meta property="og:image" content="https://yuino.dev/images/thumbnail.png" />
    <meta property="og:description" content="アクセスカウンターです。" />    
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="ゆいのページ" />
</head>

<body>
<!-- header_from -->
<header>
    <div id="header_wrapper">
        <div id="top">
            <h1><a href="/" class="link_inline">ゆいのページ</a></h1>
            <p>にゃーん</p>
        </div>
        <div id="icon">
            <img src="/images/icon.jpg" alt="ゆいのアイコン">
        </div>
        <button id="header_hamburger" onclick="hamburgerMenu()" aria-label="ハンバーガーメニュー">
            <span></span><span></span><span></span>
        </button>
    </div>
</header>
<!-- header_to -->
    <div id="main_wrapper">
    <main>

    <div class="box">
        <h1>カウンター</h1>
        <hr class="titlebar">
        <p>
            アクセスカウンターです。<br>
            ゆいのページの各ページが1回表示されるごとに数字が1増えます。
        </p>
    </div>
    
    <article>
    <section class="box">
        <h2>アクセス数の履歴</h2>
        <hr class="titlebar">
        <p>
            <dl id="counterAll">
                <?php
                    $jsonPath = $_SERVER['DOCUMENT_ROOT'] .'/counter/access_data.json';
                    $counterJson = json_decode(file_get_contents($jsonPath));
                    $dailyDataArray = $counterJson->daily;
                    foreach ($dailyDataArray as $dailyData) {
                        echo '<dt>'.$dailyData->day.'</dt><dd>'.$dailyData->count.'</dd>';
                    }
                ?>
            </dl>
        </p>
    </section>
    </article>

    </main>
<!-- aside_from -->
    <div id="aside_background" onclick="hamburgerMenu()"></div>
    <aside>
        <nav class="box">
            <h2>コンテンツ</h2>
            <hr class="titlebar">
            <div>
                <a href="/" class="aside_link_box">トップ</a>
                <a href="/blog/" class="aside_link_box">ブログ</a>
                <a href="/works/" class="aside_link_box">作品</a>
                <a href="/album/" class="aside_link_box">アルバム</a>
                <a href="/sns/" class="aside_link_box">SNS</a>
                <a href="/others/" class="aside_link_box">その他</a>
            </div>
        </nav>
        <div class="box">
            <h2>ページ内検索</h2>
            <hr class="titlebar">
            <p>ページ内の検索ができます。
                <form action="/search/index.html" method="get">
                    <label for="searchTerm"></label>
                    <div class="search_box">
                        <input type="text" name="q" id="searchTerm" placeholder="検索" class="search_input">
                        <button class="search_button" type="submit">
                            <img class="search_mark" src="/images/search.png" alt="検索マーク">
                        </button>
                    </div>
                </form>
            </p>
        </div>
        <div class="box">
            <h2>カウンター</h2>
            <?php include($_SERVER['DOCUMENT_ROOT'] . '/counter/counter.php'); ?>
            <hr class="titlebar">
            <p class="counter">
                今日のアクセス数<br>
                <span id="counter_today" class="counter_num">
                    <?php echo $accessData['daily'][0]['count']?>
                </span>
                合計のアクセス数<br>
                <span id="counter_all" class="counter_num">
                    <?php echo $accessData['all']?>
                </span>
                <a href="/counter/">詳細</a>
            </p>
        </div>
        <div class="box">
            <h2>おみくじ</h2>
            <hr class="titlebar">
            <button id="omikuji" class="center" onclick="omikuji()">
                おみくじをひく
            </button>
        </div>
    </aside>
    <div id="card">
        <div id="card_background" onclick="ClosePanel('Add')"></div>
        <div id="card_contents">
            <button id="card_close" class="center" onclick="ClosePanel('Add')"><div>×</div></button>
            <div id="card_title" class="center"></div>
            <div id="card_message" class="center"></div>
        </div>
    </div>
<!-- aside_to -->
    </div>

<!-- footer_from -->
    <button id="scrollToTopButton">
        <div><right></right><left></left></div>
    </button>
    <footer>
        <a href="/sitemap/">サイトマップ</a><br>
        &copy; 2023-2024 ゆうきゆい
    </footer>
<!-- footer_to -->

</body>
</html>